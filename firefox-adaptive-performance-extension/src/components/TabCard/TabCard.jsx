import styles from './TabCard.module.css';

const MoonIcon = () => (
  <svg 
    xmlns="http://www.w3.org/2000/svg" 
    width="14" 
    height="14" 
    viewBox="0 0 14 14" 
    fill="none"
  >
    <path d="M6.88477 13.7695C10.6872 13.7695 13.7695 10.6872 13.7695 6.88477C13.7695 6.566 13.2917 6.51299 13.1272 6.78631C12.7762 7.36762 12.2976 7.86144 11.7275 8.23037C11.1574 8.5993 10.5109 8.83366 9.83684 8.91571C9.16278 8.99775 8.47889 8.92532 7.83696 8.70391C7.19504 8.4825 6.61192 8.11791 6.13177 7.63776C5.65162 7.15761 5.28703 6.57449 5.06562 5.93257C4.84421 5.29065 4.77178 4.60675 4.85383 3.93269C4.93587 3.25863 5.17023 2.61208 5.53916 2.04201C5.90809 1.47194 6.40191 0.993303 6.98322 0.642349C7.25654 0.477114 7.20353 0 6.88477 0C3.08231 0 0 3.08231 0 6.88477C0 10.6872 3.08231 13.7695 6.88477 13.7695Z" fill="#808080"/>
  </svg>
);

const CloseIcon = () => (
  <svg 
    xmlns="http://www.w3.org/2000/svg" 
    width="13" 
    height="13" 
    viewBox="0 0 13 13" 
    fill="none"
  >
    <path fillRule="evenodd" clipRule="evenodd" d="M0.209457 0.209457C0.343745 0.0753347 0.52578 0 0.715575 0C0.905371 0 1.08741 0.0753347 1.22169 0.209457L12.681 11.6687C12.7514 11.7343 12.8078 11.8134 12.8469 11.9012C12.8861 11.9891 12.9071 12.0839 12.9088 12.1801C12.9105 12.2763 12.8928 12.3718 12.8568 12.461C12.8208 12.5501 12.7672 12.6312 12.6992 12.6992C12.6312 12.7672 12.5501 12.8208 12.461 12.8568C12.3718 12.8928 12.2763 12.9105 12.1801 12.9088C12.0839 12.9071 11.9891 12.8861 11.9012 12.8469C11.8134 12.8078 11.7343 12.7514 11.6687 12.681L0.209457 1.22169C0.0753347 1.08741 0 0.905371 0 0.715575C0 0.52578 0.0753347 0.343745 0.209457 0.209457Z" fill="#808080"/>
    <path fillRule="evenodd" clipRule="evenodd" d="M12.681 0.209457C12.8151 0.343745 12.8904 0.52578 12.8904 0.715575C12.8904 0.905371 12.8151 1.08741 12.681 1.22169L1.22167 12.681C1.0859 12.8075 0.906329 12.8764 0.720783 12.8731C0.535237 12.8698 0.358205 12.7947 0.226984 12.6634C0.0957623 12.5322 0.0205972 12.3552 0.0173235 12.1696C0.0140498 11.9841 0.0829229 11.8045 0.209433 11.6687L11.6687 0.209457C11.803 0.0753347 11.985 0 12.1748 0C12.3646 0 12.5467 0.0753347 12.681 0.209457Z" fill="#808080"/>
  </svg>
);

const EyeIcon = () => (
  <svg 
    strokeLinecap="round" 
    strokeLinejoin="round" 
    xmlns="http://www.w3.org/2000/svg" 
    width="21" 
    height="14" 
    viewBox="0 0 21 14" 
    fill="none"
  >
    <path d="M10.5 4.2C9.74052 4.2 9.01214 4.495 8.4751 5.0201C7.93807 5.5452 7.63636 6.25739 7.63636 7C7.63636 7.74261 7.93807 8.4548 8.4751 8.9799C9.01214 9.505 9.74052 9.8 10.5 9.8C11.2595 9.8 11.9879 9.505 12.5249 8.9799C13.0619 8.4548 13.3636 7.74261 13.3636 7C13.3636 6.25739 13.0619 5.5452 12.5249 5.0201C11.9879 4.495 11.2595 4.2 10.5 4.2ZM10.5 11.6667C9.23419 11.6667 8.02023 11.175 7.12517 10.2998C6.23011 9.42466 5.72727 8.23768 5.72727 7C5.72727 5.76232 6.23011 4.57534 7.12517 3.70017C8.02023 2.825 9.23419 2.33333 10.5 2.33333C11.7658 2.33333 12.9798 2.825 13.8748 3.70017C14.7699 4.57534 15.2727 5.76232 15.2727 7C15.2727 8.23768 14.7699 9.42466 13.8748 10.2998C12.9798 11.175 11.7658 11.6667 10.5 11.6667ZM10.5 0C5.72727 0 1.65136 2.90267 0 7C1.65136 11.0973 5.72727 14 10.5 14C15.2727 14 19.3486 11.0973 21 7C19.3486 2.90267 15.2727 0 10.5 0Z" fill="#808080"/>
    <circle cx="12" cy="12" r="3"></circle>
  </svg>
);

const TabCard = ({ tab, sortBy, onSleep, onClose }) => {
  return (
    <div className={`${styles.tabCard} ${tab.isSleeping ? styles.sleeping : ''}`}>
      <div className={styles.tabLeft}>
        <img src={tab.icon} alt="icon" className={styles.tabIcon} />
        <div className={styles.tabInfo}>
          <div className={styles.tabTitle}>{tab.title}</div>
          <div className={styles.tabMeta}>
            {sortBy === "CPU Usage" ? (
              <span className={styles.memory}>{tab.cpu || "0%"} CPU</span>
            ) : (
              <span className={styles.memory}>{tab.memory}</span>
            )}
            <span className={styles.divider}>|</span>
            <span>Last Used: {tab.lastUsed}</span>
          </div>
        </div>
      </div>

      <div className={styles.tabActions}>
        <button 
          onClick={() => onSleep(tab.id)} 
          className={styles.actionBtn} 
          title={tab.isSleeping ? "Wake Up" : "Sleep"}
        >
          {tab.isSleeping ? <EyeIcon /> : <MoonIcon />}
        </button>
        <button 
          onClick={() => onClose(tab.id)} 
          className={styles.actionBtn}
        >
          <CloseIcon />
        </button>
      </div>
    </div>
  );
};

export default TabCard;